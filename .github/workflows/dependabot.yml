name: Auto Fix Dependabot Dependency Alert
on: [pull_request_target, push]
permissions:
  pull-requests: write
  contents: write

jobs:
  dependabot:
    runs-on: ubuntu-latest
    if: ${{github.event.pull_request.user.login == 'dependabot[bot]'}}
    steps:
      - name: Dependabot Metadata
        id: dependabot-metadata
        uses: dependabot/fetch-metadata@v1.3.3

      - name: Enable auto merge for Dependabot PR
        run: cat ${{steps.dependabot-metadata.outputs}}

      #   uses: docker/login-action@v1
      #   with:
      #     registry: https://1234567890.dkr.ecr.us-east-1.amazonaws.com
      #     username: ${{secrets.READONLY_AWS_ACCESS_KEY_ID}}
      #     password: ${{secrets.READONLY_AWS_ACCESS_KEY}}
      # - name: Build the Docker image
      #   run: docker build . --file Dockerfile --tag my-image-name:$(date +%s)
